{"version":3,"file":"index.modern.mjs","sources":["../src/hooks/useScript.ts","../src/hooks/useAcceptJs.ts","../src/HostedForm/HostedForm.tsx","../src/AcceptHosted/RedirectIntegration/RedirectIntegration.tsx","../src/AcceptHosted/IFrameIntegration/helpers.ts","../src/AcceptHosted/IFrameIntegration/styles.ts","../src/hooks/useWindowSize.tsx","../src/AcceptHosted/IFrameIntegration/IFrameIntegration.tsx","../src/AcceptHosted/AcceptHosted.tsx"],"sourcesContent":["import * as React from 'react';\n\nconst cachedScripts: string[] = [];\n\nfunction useScript(\n  url: string,\n  async = true,\n  appendToHeadOrBody: 'head' | 'body' = 'head'\n) {\n  const [state, setState] = React.useState({\n    loaded: false,\n    error: false,\n  });\n\n  React.useEffect(() => {\n    if (cachedScripts.includes(url)) {\n      setState({\n        loaded: true,\n        error: false,\n      });\n    } else {\n      cachedScripts.push(url);\n\n      const script = document.createElement('script');\n      script.src = url;\n      script.async = async;\n\n      const onScriptLoad = () => {\n        setState({\n          loaded: true,\n          error: false,\n        });\n      };\n\n      const onScriptError = () => {\n        const index = cachedScripts.indexOf(url);\n        if (index >= 0) cachedScripts.splice(index, 1);\n        script.remove();\n\n        setState({\n          loaded: true,\n          error: true,\n        });\n      };\n\n      script.addEventListener('load', onScriptLoad);\n      script.addEventListener('error', onScriptError);\n\n      appendToHeadOrBody === 'head'\n        ? document.head.appendChild(script)\n        : document.body.appendChild(script);\n\n      return () => {\n        script.removeEventListener('load', onScriptLoad);\n        script.removeEventListener('error', onScriptError);\n      };\n    }\n    return undefined;\n  }, [url, async, appendToHeadOrBody]);\n\n  return [state.loaded, state.error];\n}\n\nexport default useScript;\n","import { useState, useEffect } from 'react';\n\nimport useScript from './useScript';\nimport {\n  PaymentData,\n  DispatchDataResponse,\n  SecureData,\n  AcceptJsHookConfig,\n} from '../types';\n\nconst useAcceptJs = ({\n  environment = 'SANDBOX',\n  authData,\n}: AcceptJsHookConfig) => {\n  const [loading, setLoading] = useState(true);\n  const scriptUrl =\n    environment === 'PRODUCTION'\n      ? 'https://js.authorize.net/v1/Accept.js'\n      : 'https://jstest.authorize.net/v1/Accept.js';\n  const [scriptLoaded, scriptError] = useScript(scriptUrl);\n\n  useEffect(() => {\n    if (scriptLoaded || scriptError) {\n      setLoading(false);\n    }\n  }, [scriptLoaded, scriptError]);\n\n  const dispatchData = (paymentData: PaymentData) => {\n    const payload: SecureData = paymentData.cardData\n      ? { cardData: paymentData.cardData, authData }\n      : { bankData: paymentData.bankData, authData };\n    return new Promise<DispatchDataResponse>((resolve, reject) => {\n      if (window) {\n        window.Accept.dispatchData(\n          payload,\n          (response: DispatchDataResponse) => {\n            if (response.messages.resultCode === 'Ok') {\n              resolve(response);\n            }\n            reject(response);\n          }\n        );\n      }\n    });\n  };\n  return { dispatchData, loading, error: scriptError };\n};\n\nexport default useAcceptJs;\n","import * as React from 'react';\n\nimport {\n  HostedFormProps,\n  HostedFormResponseHandlerFn,\n  ErrorMessage,\n} from '../types';\nimport useScript from '../hooks/useScript';\n\nconst HostedForm = ({\n  authData,\n  onSubmit,\n  environment = 'SANDBOX',\n  billingAddressOptions = { show: true, required: true },\n  buttonText = 'Pay',\n  formButtonText = 'Pay',\n  formHeaderText = 'Pay',\n  paymentOptions = { showCreditCard: true, showBankAccount: false },\n  buttonStyle,\n  buttonClassName,\n  errorTextStyle,\n  errorTextClassName,\n  containerStyle,\n  containerClassName,\n  disabled,\n}: HostedFormProps) => {\n  const [loading, setLoading] = React.useState(true);\n  const scriptUrl =\n    environment === 'PRODUCTION'\n      ? 'https://js.authorize.net/v3/AcceptUI.js'\n      : 'https://jstest.authorize.net/v3/AcceptUI.js';\n  const [scriptLoaded, scriptError] = useScript(scriptUrl);\n\n  React.useEffect(() => {\n    if (scriptLoaded || scriptError) {\n      setLoading(false);\n    }\n  }, [scriptLoaded, scriptError]);\n  const [errors, setErrors] = React.useState<string | ErrorMessage[] | null>(\n    null\n  );\n\n  const responseHandler: HostedFormResponseHandlerFn = React.useCallback(\n    (response) => {\n      if (response.messages.resultCode === 'Error') {\n        setErrors(response.messages.message);\n      } else {\n        onSubmit(response);\n      }\n    },\n    [onSubmit]\n  );\n\n  React.useEffect(() => {\n    if (!scriptError && !loading && !window.responseHandler)\n      window.responseHandler = responseHandler;\n    if (scriptError)\n      setErrors(\n        'There was a problem loading the Accept.JS script. Please try again.'\n      );\n  }, [loading, scriptError, responseHandler]);\n\n  return (\n    <div\n      style={containerStyle}\n      className={containerClassName ? containerClassName : undefined}\n    >\n      <button\n        type=\"button\"\n        style={buttonStyle}\n        className={buttonClassName ? `AcceptUI ${buttonClassName}` : 'AcceptUI'}\n        data-billingaddressoptions={JSON.stringify(billingAddressOptions)}\n        data-apiloginid={authData.apiLoginID}\n        data-clientkey={authData.clientKey}\n        data-acceptuiformbtntxt={formButtonText}\n        data-acceptuiformheadertxt={formHeaderText}\n        data-paymentoptions={JSON.stringify(paymentOptions)}\n        data-responsehandler=\"responseHandler\"\n        disabled={scriptError || loading || disabled}\n      >\n        {buttonText}\n      </button>\n\n      {errors && (\n        <div style={errorTextStyle} className={errorTextClassName ?? ''}>\n          {typeof errors === 'string'\n            ? errors\n            : errors.map((error, index) => (\n                <div key={`error-${index}`}>\n                  `Error (${error.code}): ${error.text})`\n                </div>\n              ))}\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default HostedForm;\n","import { AcceptHostedRedirectIntegrationProps } from '../../types';\n\nexport const RedirectIntegration = ({\n  formToken,\n  postUrl,\n  children,\n  className,\n  style,\n}: AcceptHostedRedirectIntegrationProps) => (\n  <form method=\"post\" action={postUrl}>\n    <input type=\"hidden\" name=\"token\" value={formToken} />\n    <button className={className} style={className ? {} : style}>\n      {children}\n    </button>\n  </form>\n);\n\nexport default RedirectIntegration;\n","export const parseQueryString = (queryString: string) => {\n  const arr = queryString.split('&');\n  return arr.reduce((acc, curr) => {\n    const [key, value] = curr.split('=');\n    acc[key] = value;\n    return acc;\n  }, {} as { [key: string]: string });\n};\n","import React from 'react';\n\nexport const defaultBackdropStyle: React.CSSProperties = {\n  position: 'fixed',\n  left: '0px',\n  top: '0px',\n  width: '100%',\n  height: '100%',\n  zIndex: 1,\n  backgroundColor: '#808080',\n  opacity: '0.5',\n  filter: 'alpha(opacity=50)',\n};\n\nexport const defaultContainerStyle: React.CSSProperties = {\n  borderRadius: '6px',\n  position: 'fixed',\n  boxShadow: 'rgba(0, 0, 0, 0.4) 5px 5px 16px',\n  zIndex: 999999,\n  display: 'block',\n  overflow: 'hidden',\n  left: '50%',\n  top: '50%',\n  backgroundColor: '#ffffff',\n};\n","import { useState, useEffect } from 'react';\n\ntype Size = {\n  width: number | undefined;\n  height: number | undefined;\n};\n\nfunction useWindowSize(): Size {\n  const [windowSize, setWindowSize] = useState<Size>({\n    width: undefined,\n    height: undefined,\n  });\n  useEffect(() => {\n    function handleResize() {\n      setWindowSize({\n        width: window.innerWidth,\n        height: window.innerHeight,\n      });\n    }\n    window.addEventListener('resize', handleResize);\n    handleResize();\n    return () => window.removeEventListener('resize', handleResize);\n  }, []);\n  return windowSize;\n}\n\nexport default useWindowSize;\n","import React from 'react';\n\nimport {\n  AcceptHostedTransactionResponse,\n  AcceptHostedIFrameIntegrationProps,\n  CompoundComponentCommonProps,\n  CompoundComponentWithChildrenProps,\n  IFrameIntegrationContext,\n} from '../../types';\nimport { parseQueryString } from './helpers';\nimport { defaultBackdropStyle, defaultContainerStyle } from './styles';\nimport useWindowSize from '../../hooks/useWindowSize';\n\nconst IFrameIntegrationContext =\n  React.createContext<IFrameIntegrationContext | null>(null);\n\nexport const useIFrameIntegrationContext = () => {\n  const context = React.useContext(IFrameIntegrationContext);\n  if (!context) {\n    throw new Error(\n      `AcceptHosted compound components cannot be rendered outside the AcceptHosted component`\n    );\n  }\n  return context;\n};\n\nexport const IFrameIntegration = ({\n  formToken,\n  postUrl,\n  onTransactionResponse,\n  onCancel,\n  onSuccessfulSave,\n  onResize,\n  children,\n}: AcceptHostedIFrameIntegrationProps) => {\n  const [popupIsShown, setPopupIsShown] = React.useState(false);\n  const popupFormRef = React.useRef<HTMLFormElement>(null);\n  const popupRef = React.useRef<HTMLDivElement>(null);\n  const iFrameRef = React.useRef<HTMLIFrameElement>(null);\n\n  const handleShowPopup = () => {\n    setPopupIsShown(true);\n  };\n\n  const handleClosePopup = () => {\n    setPopupIsShown(false);\n  };\n\n  const contextValue = {\n    popupIsShown,\n    popupFormRef,\n    popupRef,\n    iFrameRef,\n    formToken,\n    postUrl,\n    handleShowPopup,\n    handleClosePopup,\n  };\n\n  // const centerPopup = () => {\n  //   if (popupRef.current) {\n  //     popupRef.current.style.left = '50%';\n  //     popupRef.current.style.top = '50%';\n  //     const left = -Math.floor(popupRef.current.clientWidth / 2);\n  //     const top = -Math.floor(popupRef.current.clientHeight / 2);\n  //     popupRef.current.style.marginLeft = `${left.toString()}px`;\n  //     popupRef.current.style.marginTop = `${top.toString()}px`;\n  //     popupRef.current.style.zIndex = '2';\n  //     if (popupRef.current.offsetLeft < 16) {\n  //       popupRef.current.style.left = '16px';\n  //       popupRef.current.style.right = '16px';\n  //       popupRef.current.style.marginLeft = '0px';\n  //     }\n  //     if (popupRef.current.offsetTop < 16) {\n  //       popupRef.current.style.top = '16px';\n  //       popupRef.current.style.marginTop = '0px';\n  //     }\n  //   }\n  // };\n\n  // React.useEffect(() => {\n  //   if (popupIsShown) {\n  //     centerPopup();\n  //   }\n  // }, [popupIsShown]);\n\n  React.useEffect(() => {\n    if (!window.AuthorizeNetIFrame) {\n      window.AuthorizeNetIFrame = {\n        onReceiveCommunication: (querystr) => {\n          const params = parseQueryString(querystr);\n          switch (params['action']) {\n            case 'successfulSave':\n              if (onSuccessfulSave) onSuccessfulSave();\n              handleClosePopup();\n              break;\n            case 'cancel':\n              if (onCancel) onCancel();\n              handleClosePopup();\n              break;\n            case 'transactResponse':\n              const response = params['response'] as string;\n              let parsedResponse: AcceptHostedTransactionResponse;\n              if (response) {\n                parsedResponse = JSON.parse(response);\n                onTransactionResponse(parsedResponse);\n              } else {\n                console.error(\n                  'Did not receive a transaction response despite receiving a transactResponse action!'\n                );\n              }\n              handleClosePopup();\n              break;\n            case 'resizeWindow':\n              const width = params['width'] as string;\n              const height = params['height'] as string;\n              if (width && height) {\n                const w = parseInt(width);\n                const h = parseInt(height);\n                if (iFrameRef.current && popupRef.current) {\n                  iFrameRef.current.style.width = '100%';\n                  iFrameRef.current.style.height = `${h.toString()}px`;\n                  popupRef.current.style.height = `${h.toString()}px`;\n                  // centerPopup();\n                }\n                if (onResize) onResize(w, h);\n              }\n              break;\n            default:\n              break;\n          }\n        },\n      };\n    }\n  });\n\n  return (\n    <IFrameIntegrationContext.Provider value={contextValue}>\n      {children}\n    </IFrameIntegrationContext.Provider>\n  );\n};\n\nexport const IFrameIntegrationButton = ({\n  children,\n  className,\n}: CompoundComponentWithChildrenProps) => {\n  const { postUrl, handleShowPopup, formToken, popupIsShown } =\n    useIFrameIntegrationContext();\n  return (\n    <form\n      method=\"post\"\n      action={postUrl}\n      id=\"formAuthorizeNetPopup\"\n      name=\"formAuthorizeNetPopup\"\n      target=\"iframeAuthorizeNet\"\n      onSubmit={handleShowPopup}\n    >\n      <input type=\"hidden\" id=\"popupToken\" name=\"token\" value={formToken} />\n      <button disabled={popupIsShown} className={className}>\n        {children}\n      </button>\n    </form>\n  );\n};\n\nexport const IFrameContainer = ({\n  children,\n  className,\n  style,\n}: CompoundComponentWithChildrenProps) => {\n  const { popupIsShown, popupRef } = useIFrameIntegrationContext();\n  const windowSize = useWindowSize();\n  const [offsetWidth, setOffsetWidth] = React.useState(0);\n  const [offsetHeight, setOffsetHeight] = React.useState(0);\n\n  // React.useEffect(() => {\n  //   if (popupIsShown) {\n  //     debugger;\n  //   }\n  // }, [popupIsShown]);\n\n  React.useEffect(() => {\n    setOffsetWidth(Math.floor((popupRef.current?.clientWidth || 0) / 2));\n    setOffsetHeight(Math.floor((popupRef.current?.clientHeight || 0) / 2));\n  }, [popupRef]);\n\n  return (\n    <div\n      className={className}\n      ref={popupRef}\n      style={\n        className\n          ? { display: popupIsShown ? '' : 'none' }\n          : {\n              ...defaultContainerStyle,\n              ...style,\n              display: popupIsShown ? '' : 'none',\n              width: windowSize.width\n                ? windowSize.width > 576\n                  ? '70%'\n                  : '300px'\n                : '300px',\n              height: '90%',\n              marginLeft: `-${offsetWidth}px`,\n              marginTop: `-${offsetHeight}px`,\n            }\n      }\n    >\n      {children}\n    </div>\n  );\n};\n\nexport const IFrameBackdrop = ({\n  className,\n  style,\n}: CompoundComponentCommonProps) => {\n  const { popupIsShown } = useIFrameIntegrationContext();\n\n  return (\n    <div\n      className={className}\n      style={\n        className\n          ? { display: popupIsShown ? '' : 'none' }\n          : {\n              ...defaultBackdropStyle,\n              ...style,\n              display: popupIsShown ? '' : 'none',\n            }\n      }\n    />\n  );\n};\n\nexport const IFrame = ({ className, style }: CompoundComponentCommonProps) => {\n  return (\n    <iframe\n      name=\"iframeAuthorizeNet\"\n      id=\"iframeAuthorizeNet\"\n      frameBorder=\"0\"\n      scrolling=\"no\"\n      width=\"100%\"\n      height=\"100%\"\n      className={className}\n      style={className ? {} : style}\n    ></iframe>\n  );\n};\n","import RedirectIntegration from './RedirectIntegration';\nimport {\n  IFrameIntegration,\n  IFrameIntegrationButton,\n  IFrameContainer,\n  IFrame,\n  IFrameBackdrop,\n} from './IFrameIntegration';\nimport { AcceptHostedProps, AcceptHostedComposition } from '../types';\n\nconst AcceptHosted: AcceptHostedComposition = (props: AcceptHostedProps) => {\n  const postUrl =\n    props.environment === 'PRODUCTION'\n      ? 'https://accept.authorize.net/payment/payment'\n      : 'https://test.authorize.net/payment/payment';\n\n  if (props.integration === 'redirect') {\n    return (\n      <RedirectIntegration formToken={props.formToken} postUrl={postUrl}>\n        {props.children}\n      </RedirectIntegration>\n    );\n  }\n  if (props.integration === 'iframe') {\n    return (\n      <IFrameIntegration\n        formToken={props.formToken}\n        postUrl={postUrl}\n        onTransactionResponse={props.onTransactionResponse}\n        onCancel={props.onCancel}\n        onResize={props.onResize}\n        onSuccessfulSave={props.onSuccessfulSave}\n      >\n        {props.children}\n      </IFrameIntegration>\n    );\n  }\n  return null;\n};\n\nAcceptHosted.Button = IFrameIntegrationButton;\nAcceptHosted.IFrameContainer = IFrameContainer;\nAcceptHosted.IFrameBackdrop = IFrameBackdrop;\nAcceptHosted.IFrame = IFrame;\n\nexport default AcceptHosted;\n"],"names":["cachedScripts","useScript","url","async","appendToHeadOrBody","state","setState","React","useState","loaded","error","useEffect","includes","push","script","document","createElement","src","onScriptLoad","onScriptError","index","indexOf","splice","remove","addEventListener","head","appendChild","body","removeEventListener","undefined","useAcceptJs","environment","authData","loading","setLoading","scriptUrl","scriptLoaded","scriptError","dispatchData","paymentData","payload","cardData","bankData","Promise","resolve","reject","window","Accept","response","messages","resultCode","HostedForm","onSubmit","billingAddressOptions","show","required","buttonText","formButtonText","formHeaderText","paymentOptions","showCreditCard","showBankAccount","buttonStyle","buttonClassName","errorTextStyle","errorTextClassName","containerStyle","containerClassName","disabled","errors","setErrors","responseHandler","useCallback","message","_jsxs","style","className","children","_jsx","type","JSON","stringify","apiLoginID","clientKey","map","code","text","RedirectIntegration","formToken","postUrl","method","action","name","value","parseQueryString","queryString","arr","split","reduce","acc","curr","key","defaultBackdropStyle","position","left","top","width","height","zIndex","backgroundColor","opacity","filter","defaultContainerStyle","borderRadius","boxShadow","display","overflow","useWindowSize","windowSize","setWindowSize","handleResize","innerWidth","innerHeight","IFrameIntegrationContext","createContext","useIFrameIntegrationContext","context","useContext","Error","IFrameIntegration","onTransactionResponse","onCancel","onSuccessfulSave","onResize","popupIsShown","setPopupIsShown","popupFormRef","useRef","popupRef","iFrameRef","handleShowPopup","handleClosePopup","contextValue","AuthorizeNetIFrame","onReceiveCommunication","querystr","params","parsedResponse","parse","console","w","parseInt","h","current","toString","Provider","IFrameIntegrationButton","id","target","IFrameContainer","offsetWidth","setOffsetWidth","offsetHeight","setOffsetHeight","Math","floor","clientWidth","clientHeight","ref","marginLeft","marginTop","IFrameBackdrop","IFrame","frameBorder","scrolling","AcceptHosted","props","integration","Button"],"mappings":"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"}